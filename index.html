<!DOCTYPE html>
<html>
<head>
<title>Example 14-1</title>
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<meta name="viewport" id="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;"/>

<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

<script type="text/javascript" charset="utf-8" rc="jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="phonegap.js"></script>
<script type="text/javascript" charset="utf-8">

           


function onBodyLoad() {
        document.addEventListener("deviceready", onDeviceReady, false);
}

function onDeviceReady() {
        navigator.notification.alert("PhoneGap is ready!");

                document.addEventListener("online", isOnline, false);

                document.addEventListener("offline", isOffline, false);
}

function tiemporeal()
{
    var contador;
for (contador=-1; contador < 0; i--) {
    $('#networkInfo').prepend("Online (" + getConnectionTypeStr() + ")<br />");
}

}

function isOnline() {
                        var d = new Date();
                        $('#networkInfo').prepend("Online (" + getConnectionTypeStr() + ")<br />");
}
function isOffline() {
                            var d = new Date();
                            $('#networkInfo').prepend("Offline<br />");
}
function getConnectionTypeStr() {

    var states = {};
    states[Connection.UNKNOWN]  = 'Unknown connection';
    states[Connection.ETHERNET] = 'Ethernet connection';
    states[Connection.WIFI]     = 'WiFi connection';
    states[Connection.CELL_2G]  = 'Cell 2G connection';
    states[Connection.CELL_3G]  = 'Cell 3G connection';
    states[Connection.CELL_4G]  = 'Cell 4G connection';
    states[Connection.CELL]     = 'Cell generic connection';
    states[Connection.NONE]     = 'No network connection';

    var networkState = navigator.connection.type;

                return states[networkState];
}


</script>
</head>
<body onload="onBodyLoad()">
<h1>Example 14-1</h1>
<p id="networkInfo"></p>
<input type="button" value="Reload" onclick="tiemporeal();">

</body>
</body>
</html>
