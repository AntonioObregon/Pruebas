<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<meta name="viewport" id="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />

<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

<script charset="utf-8" src="index.js"></script>
<script type="stylesheet" charset="utf-8" src="index.css"></script>

<script type="text/javascript" charset="utf-8" src="phonegap.js"></script>
<script type="text/javascript" charset="utf-8">
$(document).ready(function() {


$("#createContact").click(function(){

var name = $("#dname").val();
var mname = $("#dmname").val();

var mobile = $("#dmob").val();
var email = $("#demail").val();
var address = $("#dadd").val();
var region = $("#dregion").val();
var country = $("#dcountry").val();
var bday = $("#dbday").val();
var note = $("#dnote").val();
var durl = $("#durl").val();

var myContact = navigator.contacts.create(
        {
            "displayName":null,
            "name":
            { 
            "givenName":name,
            "formatted":null,
            "middleName":mname,
            "familyName":null,
            "honorificPrefix":null,
            "honorificSufix":null
            
            },
            "nickname":null,
            "phoneNumbers":
            [
                {"type":"mobile","value":mobile,"id":0,"pref":false},
                {"type":"other","value":null,"id":1,"pref":false}
            ],
            "emails":[
                {"type":"home","value":email,"id":0,"pref":false}
            ],
            "addresses":
                [
                {
                "postalCode":null,
                "type":"work",
                "id":0,
                "locality":null,
                "pref":"false",
                "streetAddress":address,
                "region":region,
                "country":country
                }
                ],
                "ims":null,
                "organizations":
                [
                {
                "name":"",
                "title":"",
                "type":null,
                "pref":"false",
                "department":""
                }
                ],
                "birthday":bday,
                "note":note,
                "categories":null,
                "urls":
                [
                {
                "type":"other",
                "value":durl,
                "id":0,
                "pref":false
                }
                ]
            });

            myContact.save();
            alert("El contacto: "+myContact.name.givenName+" ha sido creado");
        });
    });

</script>
</head>
<body>
  
        <div data-role="page">
<div data-role="header" data-position="fixed" class="ui-header ui-bar-a ui-header-fixed slidedown" role="banner">
    
<h1>Plugin de Contactos</h1>
    
</div>
<div data-role="main" class="iu-content iu-corner-all" id="main">
<center>
<p id="heading">Agenda</p>
</center>

<div data-role="tabs">

    <div data-role="navbar">
        <ul>
            <li><a href="#one" data-theme="a" data-ajax="false">Nuevo Contacto</a> </li>
         
        </ul>
      </div>

      
      <div id="one" class="ui-content">
          
          <div id="namediv" class="ui-content">
        
        <div class="ui-field-contain">
            
            <label for="textinput-fc">Nombre: </label>
            <input type="text" name="textinput-fc" id="dname" placeholder="Nombre" value="">
        </div>
        <div class="ui-field-contain">
                <label for="textinput-fc">Apellido: </label>
                <input type="text" name="textinput-fc" id="dmname" placeholder="Apellido" value="">
                </div>
            </div>

            <div id="emaildiv" class="ui-content">
                <div class="ui-field-contain">
                        <label for="textinput-fc">Numero telefono: </label>
                        <input type="number" name="textinput-fc" id="dmob" placeholder="Numero telefono" value="">
                        </div>
                        <div class="ui-field-contain">
                                <label for="textinput-fc">Email: </label>
                                <input type="email" name="textinput-fc" id="dmail" placeholder="email@domain.com" value="">
                                </div>
                                </div>
        
            <div id="addressdiv" class="ui-content">
                    <div class="ui-field-contain">
                            <label for="textinput-fc">Direccion: </label>
                            <input type="text" name="textinput-fc" id="dadd" placeholder="Direccion" value="">
                            </div>
                            <div class="ui-field-contain">
                                    <label for="textinput-fc">Ciudad: </label>
                                    <input type="text" name="textinput-fc" id="dregion" placeholder="Ciudad" value="">
                                    </div>
                                    <div class="ui-field-contain">
                                            <label for="textinput-fc">Pais: </label>
                                            <input type="text" name="textinput-fc" id="dcountry" placeholder="Pais" value="">
                                            </div>
                                            </div>
                                            <div id="addressdiv" class="ui-content">
                                                    <div class="ui-field-contain">
                                                            <label for="textinput-fc">Cumplea&ntilde;os: </label>
                                                            <input type="date" name="textinput-fc" id="dbday" placeholder="Dia/Mes/A&tilde;o" value="">
                                                            </div>
                                                            <div class="ui-field-contain">
                                                                    <label for="textinput-fc">Nota adicional: </label>
                                                                    <input type="text" name="textinput-fc" id="dnote" placeholder="Nota" value="">
                                                                    </div>
                                                                    <div class="ui-field-contain">
                                                                            <label for="textinput-fc">URL: </label>
                                                                            <input type="text" name="textinput-fc" id="durl" placeholder="URL" value="">
                                                                            </div>
</div>
<a href="#" id="createContact" class="ui-shadow ui-btn ui-corner-all">Guardar contacto</a>
</div>



   
        </div>
    </div>
</div>
</body>
</html>
